generator client {
  provider = "prisma-client-js"
  output   = "../../../../node_modules/@prisma/client-findash"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model MarketAsset {
  id          String   @id // e.g. 'gold', 'snp500'
  symbol      String   // Yahoo Ticker e.g. 'GC=F'
  name        String
  category    String
  history     MarketHistory[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model MarketHistory {
  id        Int      @id @default(autoincrement())
  assetId   String
  date      DateTime
  close     Float
  volume    BigInt
  asset     MarketAsset @relation(fields: [assetId], references: [id])

  @@unique([assetId, date])
  @@index([assetId, date])
}
